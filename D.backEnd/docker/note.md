# docker

## 1. 景象，容器

- 打包好的安装包，方便传播
- 软件安装后的状态，每个运行环境都是独立的，隔离的，称之为容器

## 2. 基础概念

- containers是你的每一个环境实例
- images是镜像文件
  - 先pull一个nginx镜像文件，在本地run起来，填写参数
  - 参数
    - 端口，容器内跑的 nginx 服务是在 80 端口，你要把宿主机的某个端口映射到容器的 80 端口才可以访问。
    - 数据卷 volume：把宿主机某个目录挂到容器内，因为容器是镜像跑起来的，下次再用这个镜像跑的还是同样的容器，那你在容器内保存的数据就会消失。所以把某个宿主机目录，挂载到容器内的某个保存数据的目录，这样数据是保存在宿主机的，下次再用镜像跑一个新容器，只要把这个目录挂载上去就行。

- 举例
  - 挂载本地的 /tmp/aaa 到容器内的 /usr/share/nginx/html 目录
  volumes:
    - host: /tmp/aaa
    - container path: /usr/share/nginx/html
    - 这个时候我们在/tmp/aaa 目录下添加一个 index.html
    - 浏览器访问 <http://localhost> 就可以访问到：这就说明数据卷挂载成功了。
